<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Defines metadata for the document, including character encoding, viewport settings, and page title -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="header.title">Documentation AutoML Pro</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <!-- Imports Google Fonts for Poppins and Noto Sans Arabic to support multilingual text -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Imports Font Awesome for icons used in buttons, UI elements, and footer -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      :root {
  /* Color palette - Professional blue theme */
  --primary: #0056b3;
  --primary-dark: #003b7a;
  --primary-light: #2979d2;
  --secondary: #ff9800;
  --secondary-dark: #e68a00;
  --secondary-light: #ffb74d;
  --accent: #f5f7fa;
  --text-dark: #1a2b4e;
  --text-muted: #64748b; 
  --text-light: #ffffff;
  --background-light: #f8f9fa;
  --background-dark: #131c2e;
  --border-light: #e2e8f0;
  --border-dark: #334155;
  
  /* Status colors */
  --success: #10b981;
  --success-light: #ecfdf5;
  --success-dark: #065f46;
  --info: #0ea5e9;
  --info-light: #f0f9ff;
  --info-dark: #0c4a6e;
  --warning: #f59e0b;
  --warning-light: #fffbeb;
  --warning-dark: #78350f;
  --danger: #ef4444;
  --danger-light: #fef2f2;
  --danger-dark: #7f1d1d;
  
  /* Spacing and dimensions */
  --spacing-1: 4px;
  --spacing-2: 8px;
  --spacing-3: 12px;
  --spacing-4: 16px;
  --spacing-5: 20px;
  --spacing-6: 24px;
  --spacing-8: 32px;
  --spacing-10: 40px;
  --spacing-12: 48px;
  --spacing-16: 64px;
  
  /* Border radius */
  --border-radius-sm: 6px;
  --border-radius: 8px;
  --border-radius-lg: 12px;
  --border-radius-xl: 16px;
  --border-radius-2xl: 24px;
  --border-radius-full: 9999px;
  
  /* Shadows */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  
  /* Typography */
  --font-primary: 'Poppins', 'Noto Sans Arabic', sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  
  /* Transitions */
  --transition-fast: all 0.2s ease;
  --transition: all 0.3s ease;
  --transition-slow: all 0.5s ease;
  
  /* Layout */
  --header-height: 70px;
  --container-max-width: 1280px;
}

/* Dark mode variables */
.dark {
  --primary: #2979d2;
  --primary-dark: #0056b3;
  --primary-light: #4b96e6;
  --secondary: #ffb74d;
  --secondary-dark: #ff9800;
  --secondary-light: #ffc77d;
  --accent: #1e293b;
  --text-dark: #f1f5f9;
  --text-muted: #94a3b8;
  --text-light: #ffffff;
  --background-light: #0f172a;
  --background-dark: #f8f9fa;
  --border-light: #334155;
  --border-dark: #e2e8f0;
  --success-light: #064e3b;
  --info-light: #0c4a6e;
  --warning-light: #78350f;
  --danger-light: #7f1d1d;
}

/* Base styles */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--font-primary);
}

html {
  scroll-behavior: smooth;
  font-size: 16px;
  scroll-padding-top: calc(var(--header-height) + 20px);
}

body {
  background: linear-gradient(135deg, var(--background-light) 0%, #e9eef6 100%);
  color: var(--text-dark);
  line-height: 1.6;
  transition: background-color 0.3s ease, color 0.3s ease;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.dark body {
  background: linear-gradient(135deg, var(--background-light) 0%, #172138 100%);
}

/* RTL Support */
body[lang="ar"] {
  direction: rtl;
  text-align: right;
  font-family: 'Noto Sans Arabic', 'Poppins', sans-serif;
}

body[lang="ar"] .header-actions,
body[lang="ar"] .language-switcher,
body[lang="ar"] .footer-content {
  flex-direction: row-reverse;
}

body[lang="ar"] .doc-section h2::after {
  left: auto;
  right: 0;
}

body[lang="ar"] .doc-section ul {
  padding-left: 0;
  padding-right: 1.5rem;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 0.5em;
  color: var(--text-dark);
}

p {
  margin-bottom: 1rem;
}

a {
  text-decoration: none;
  color: var(--primary);
  transition: var(--transition);
  position: relative;
}

a:hover {
  color: var(--primary-dark);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--accent);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--primary-light);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary);
}

/* Layout components */
.container {
  width: 100%;
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--spacing-6);
  position: relative;
}

/* Header */
.header {
  background: linear-gradient(90deg, var(--primary-dark), var(--primary));
  color: var(--text-light);
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: var(--shadow-md);
  transition: var(--transition);
  height: var(--header-height);
}

.header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at top right, rgba(255,255,255,0.1), transparent 70%);
  pointer-events: none;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: var(--header-height);
}

.logo {
  display: flex;
  align-items: center;
  gap: var(--spacing-4);
}

.logo img {
  height: 48px;
  width: 48px;
  object-fit: contain;
  border-radius: var(--border-radius);
  background: white;
  padding: 4px;
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
}

.logo:hover img {
  transform: scale(1.05);
}

.logo h1 {
  font-size: var(--font-size-xl);
  font-weight: 700;
  margin: 0;
  background: linear-gradient(90deg, #ffffff, #e6e9ed);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.header-actions {
  display: flex;
  gap: var(--spacing-3);
  align-items: center;
}

/* Language switcher */
.language-switcher {
  display: flex;
  gap: var(--spacing-2);
  background: rgba(0, 0, 0, 0.1);
  padding: 4px;
  border-radius: var(--border-radius-full);
}

.language-btn {
  background: transparent;
  color: var(--text-light);
  padding: 6px 12px;
  border-radius: var(--border-radius-full);
  border: none;
  font-size: 0.9em;
  cursor: pointer;
  transition: var(--transition);
  opacity: 0.7;
}

.language-btn.active {
  background: rgba(255, 255, 255, 0.2);
  opacity: 1;
  box-shadow: var(--shadow-sm);
}

.language-btn:hover {
  opacity: 1;
  transform: translateY(-1px);
}

/* Theme toggle */
.theme-toggle-wrapper {
  margin-right: 10px;
}

.theme-switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 30px;
}

.theme-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.theme-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.2);
  transition: .4s;
  border-radius: 34px;
  overflow: hidden;
}

.theme-slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
  z-index: 2;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.theme-slider:after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, rgba(255,255,255,0.1), transparent);
  opacity: 0.5;
  z-index: 1;
}

input:checked + .theme-icons + .theme-slider {
  background-color: rgba(0, 0, 0, 0.3);
}

input:checked + .theme-icons + .theme-slider:before {
  transform: translateX(30px);
}

.theme-icons {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 8px;
  z-index: 1;
  pointer-events: none;
}

.theme-icons i {
  font-size: 14px;
  color: var(--text-light);
  z-index: 3;
}

/* Button styles */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.6rem 1.2rem;
  border-radius: var(--border-radius-full);
  font-weight: 600;
  transition: var(--transition);
  border: none;
  cursor: pointer;
  font-size: var(--font-size-sm);
  position: relative;
  overflow: hidden;
  text-align: center;
  box-shadow: var(--shadow);
  letter-spacing: 0.01em;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
  pointer-events: none;
}

.btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background-color: rgba(255, 255, 255, 0.15);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.5s, height 0.5s;
}

.btn:active::after {
  width: 300px;
  height: 300px;
  opacity: 0;
}

.btn i {
  font-size: 0.9em;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: var(--text-light);
}

.btn-primary:hover {
  background: linear-gradient(135deg, var(--primary-light), var(--primary));
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.btn-primary:active {
  transform: translateY(0);
  box-shadow: var(--shadow);
}

/* Main content */
.main {
  flex: 1;
  padding: var(--spacing-8) 0;
}

/* Card styles */
.card {
  background-color: white;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-lg);
  transition: var(--transition);
  display: flex;
  flex-direction: column;
  height: 100%;
  border: 1px solid var(--border-light);
  position: relative;
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.5s forwards;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-xl);
}

.card-header {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: var(--text-light);
  padding: 1.5rem;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.card-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at top right, rgba(255,255,255,0.2), transparent 70%);
  pointer-events: none;
}

.card-title {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  position: relative;
}

.card-title i {
  color: var(--secondary);
  font-size: 1.25rem;
}

.card-body {
  padding: 2rem;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Documentation specific styles */
.doc-section {
  margin-bottom: 3rem;
  animation: fadeIn 0.5s ease-out forwards;
  opacity: 0;
}

.doc-section:nth-child(1) { animation-delay: 0.1s; }
.doc-section:nth-child(2) { animation-delay: 0.2s; }
.doc-section:nth-child(3) { animation-delay: 0.3s; }
.doc-section:nth-child(4) { animation-delay: 0.4s; }
.doc-section:nth-child(5) { animation-delay: 0.5s; }
.doc-section:nth-child(6) { animation-delay: 0.6s; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.doc-section h2 {
  font-size: 1.8rem;
  font-weight: 600;
  color: var(--primary);
  margin-bottom: 1.5rem;
  position: relative;
  padding-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.doc-section h2::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 50px;
  height: 3px;
  background: linear-gradient(90deg, var(--primary), var(--primary-light));
  border-radius: 3px;
  transition: width 0.3s ease;
}

.doc-section:hover h2::after {
  width: 100px;
}

.doc-section h3 {
  font-size: 1.4rem;
  font-weight: 500;
  color: var(--primary);
  margin-top: 2rem;
  margin-bottom: 1rem;
  position: relative;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.doc-section h3::before {
  content: '\f054';
  font-family: 'Font Awesome 5 Free';
  font-weight: 900;
  font-size: 0.8rem;
  color: var(--secondary);
}

.doc-section p {
  margin-bottom: 1.25rem;
  color: var(--text-dark);
  line-height: 1.7;
}

.doc-section ul {
  list-style-type: none;
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.doc-section ul li {
  margin-bottom: 0.75rem;
  position: relative;
  padding-left: 1.5rem;
  line-height: 1.6;
}

.doc-section ul li::before {
  content: '\f058';
  font-family: 'Font Awesome 5 Free';
  font-weight: 900;
  color: var(--primary);
  position: absolute;
  left: 0;
  top: 0.2rem;
  font-size: 1rem;
  opacity: 0.8;
  transition: var(--transition);
}

.doc-section ul li:hover::before {
  color: var(--primary-light);
  transform: scale(1.1);
}

.doc-section ul ul {
  margin-top: 0.75rem;
  margin-bottom: 0;
}

.doc-section ul ul li::before {
  content: '\f0da';
}

.doc-section code {
  background-color: var(--accent);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'Courier New', Courier, monospace;
  color: var(--primary);
  font-size: 0.9em;
  transition: var(--transition);
  border: 1px solid transparent;
}

.doc-section code:hover {
  background-color: var(--primary-light);
  color: var(--text-light);
  border-color: var(--primary);
}

.doc-section pre {
  background-color: var(--background-light);
  padding: 1.25rem;
  border-radius: var(--border-radius);
  overflow-x: auto;
  margin-bottom: 1.5rem;
  border-left: 4px solid var(--primary);
  transition: all 0.3s ease;
  position: relative;
  box-shadow: var(--shadow-md);
}

.doc-section pre::before {
  content: 'Code';
  position: absolute;
  top: 0;
  right: 1rem;
  background: var(--primary);
  color: white;
  padding: 0.25rem 0.75rem;
  font-size: var(--font-size-xs);
  border-radius: 0 0 var(--border-radius-sm) var(--border-radius-sm);
  opacity: 0.9;
}

.doc-section pre:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  background-color: #e0e7ff;
}

/* Footer styles */
.footer {
  background: linear-gradient(90deg, var(--primary-dark), var(--primary));
  color: var(--text-light);
  padding: var(--spacing-8) 0 var(--spacing-6);
  margin-top: auto;
  position: relative;
  box-shadow: 0 -6px 25px rgba(0, 0, 0, 0.35);
}

.footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at bottom left, rgba(255,255,255,0.1), transparent 70%);
  pointer-events: none;
}

.footer::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(to right, var(--primary), var(--secondary), var(--primary));
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--spacing-6);
  position: relative;
  z-index: 1;
}

.footer-logo {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
}

.footer-logo img {
  height: 40px;
  width: 40px;
  object-fit: contain;
  border-radius: var(--border-radius);
  background: white;
  padding: 4px;
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
}

.footer-logo img:hover {
  transform: scale(1.1);
  box-shadow: var(--shadow-md);
}

.footer-logo span {
  font-size: 1.2rem;
  font-weight: 600;
  background: linear-gradient(90deg, #fff, #e6e9ed);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.footer-tagline {
  font-size: 0.9rem;
  opacity: 0.8;
  margin-top: var(--spacing-1);
}

.footer-social {
  display: flex;
  gap: var(--spacing-4);
}

.footer-social a {
  color: var(--text-light);
  font-size: 1.2rem;
  transition: var(--transition);
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  position: relative;
  overflow: hidden;
}

.footer-social a::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(255,255,255,0.2), transparent 70%);
  opacity: 0;
  transition: var(--transition);
}

.footer-social a:hover::after {
  opacity: 1;
}

.footer-social a:hover {
  color: var(--secondary);
  transform: translateY(-3px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.footer-copyright {
  font-size: 0.9rem;
  opacity: 0.8;
  text-align: center;
  margin-top: var(--spacing-6);
  width: 100%;
}

/* Toast notification */
.toast {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--success);
  color: var(--text-light);
  padding: 15px 25px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-lg);
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 1000;
  display: flex;
  align-items: center;
  gap: 10px;
}

.toast::before {
  content: '\f058';
  font-family: 'Font Awesome 5 Free';
  font-weight: 900;
  font-size: 1.2rem;
}

.toast.show {
  opacity: 1;
  transform: translateY(0);
}

.toast.error {
  background: var(--danger);
}

.toast.error::before {
  content: '\f057';
}

/* Error boundary */
.error-boundary {
  text-align: center;
  padding: 3rem;
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  margin: 2rem 0;
}

.error-boundary h2 {
  color: var(--danger);
  margin-bottom: 1.5rem;
}

/* Dark mode styles */
.dark .card {
  background-color: var(--accent);
  border-color: var(--border-light);
}

.dark .doc-section code {
  background-color: rgba(255, 255, 255, 0.1);
}

.dark .doc-section pre {
  background-color: rgba(0, 0, 0, 0.2);
}

.dark .doc-section pre:hover {
  background-color: rgba(0, 0, 0, 0.3);
}

.dark .error-boundary {
  background-color: var(--accent);
}

/* Responsive styles */
@media (max-width: 992px) {
  .container {
    padding-left: var(--spacing-4);
    padding-right: var(--spacing-4);
  }
  
  .card-body {
    padding: 1.5rem;
  }
  
  .doc-section h2 {
    font-size: 1.6rem;
  }
  
  .doc-section h3 {
    font-size: 1.3rem;
  }
}

@media (max-width: 768px) {
  .header-content {
    flex-direction: column;
    gap: 1rem;
    padding: 0.75rem 0;
    height: auto;
  }

  .header-actions {
    justify-content: center;
    width: 100%;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .doc-section h2 {
    font-size: 1.5rem;
  }
  
  .doc-section h3 {
    font-size: 1.2rem;
  }

  .footer-content {
    flex-direction: column;
    text-align: center;
    gap: var(--spacing-4);
  }

  .footer-social {
    justify-content: center;
  }

  .toast {
    right: 10px;
    left: 10px;
    bottom: 10px;
  }
}

@media (max-width: 576px) {
  .card-body {
    padding: 1.25rem;
  }

  .btn {
    padding: 0.5rem 1rem;
    font-size: 0.85rem;
  }

  .language-switcher {
    flex-wrap: wrap;
    justify-content: center;
  }

  .language-btn {
    flex: 1;
    text-align: center;
    min-width: 40px;
  }
  
  .doc-section pre {
    padding: 1rem;
  }
  
  .doc-section pre::before {
    font-size: 0.7rem;
    padding: 0.2rem 0.5rem;
  }
}

/* Print styles */
@media print {
  .header,
  .footer,
  .theme-toggle-wrapper,
  .language-switcher {
    display: none !important;
  }
  
  body {
    background: white !important;
    color: black !important;
  }
  
  .container {
    max-width: 100% !important;
    padding: 0 !important;
  }
  
  .card {
    box-shadow: none !important;
    border: 1px solid #ddd !important;
    margin: 0 !important;
  }
  
  .card-header {
    background: #f0f0f0 !important;
    color: black !important;
  }
  
  .doc-section h2 {
    color: black !important;
  }
  
  .doc-section h2::after {
    display: none;
  }
  
  .doc-section h3::before {
    color: black !important;
  }
  
  .doc-section code {
    background: #f0f0f0 !important;
    color: black !important;
  }
  
  .doc-section pre {
    background: #f8f8f8 !important;
    border-left: 2px solid #ddd !important;
    color: black !important;
  }
  
  .doc-section pre::before {
    display: none;
  }
  
  .doc-section ul li::before {
    color: black !important;
  }
}

/* Animations */
@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(0, 86, 179, 0.4);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(0, 86, 179, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(0, 86, 179, 0);
  }
}

.pulse {
  animation: pulse 2s infinite;
}

/* Utility classes */
.text-primary { color: var(--primary) !important; }
.mb-3 { margin-bottom: 1rem !important; }
.mt-3 { margin-top: 1rem !important; }
.d-flex { display: flex !important; }
.justify-content-between { justify-content: space-between !important; }
.align-items-center { align-items: center !important; }
.me-1 { margin-right: 0.25rem !important; }
    </style>
</head>
<body aria-live="polite">
    <!-- Script for handling Excel file processing using XLSX library -->
    <script type="text/javascript">
        // Global variables to manage Excel file processing
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};

        // Helper function to check if a cell is non-empty
        function filledCell(cell) {
            return cell !== '' && cell != null;
        }

        // Function to load and process Excel file data, converting to CSV
        function loadFileData(filename) {
            if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
                try {
                    // Read Excel file from base64 data
                    var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                    var firstSheetName = workbook.SheetNames[0];
                    var worksheet = workbook.Sheets[firstSheetName];

                    // Convert sheet to JSON to filter blank rows
                    var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                    // Filter out blank rows (rows where all cells are empty, null, or undefined)
                    var filteredData = jsonData.filter(row => row.some(filledCell));

                    // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                    var headerRowIndex = filteredData.findIndex((row, index) =>
                        row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                    );
                    // Fallback to first row if heuristic fails or exceeds 25 rows
                    if (headerRowIndex === -1 || headerRowIndex > 25) {
                        headerRowIndex = 0;
                    }

                    // Convert filtered JSON back to CSV
                    var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                    csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                    return csv;
                } catch (e) {
                    console.error(e);
                    return "";
                }
            }
            // Return raw file data for non-Excel files
            return gk_fileData[filename] || "";
        }
    </script>

    <!-- Header section: Displays the logo, title, and navigation controls -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQghP9MPtQ4YU3UqysqQGnf0_NxGgrnOn7cjCao-MdKRQ72Jwitn1-l_midGtdBIbP8jVs&usqp=CAU" alt="ISET Sfax Logo">
                    <h1 data-i18n="header.logo">AutoML Pro</h1>
                </div>
                <!-- Header actions: Includes language switcher, theme toggle, and navigation links -->
                <div class="header-actions">
                    <!-- Language switcher: Allows switching between English, French, and Arabic -->
                    <div class="language-switcher" role="navigation" aria-label="Language selection">
                        <button class="language-btn" data-lang="en" aria-label="Switch to English" role="button">EN</button>
                        <button class="language-btn" data-lang="fr" aria-label="Switch to French" role="button">FR</button>
                        <button class="language-btn" data-lang="ar" aria-label="Switch to Arabic" role="button">AR</button>
                    </div>
                    <!-- Theme toggle: Switches between light and dark themes -->
                    <div class="theme-toggle-wrapper">
                        <label class="theme-switch">
                            <input type="checkbox" id="themeToggle">
                            <div class="theme-icons">
                                <i class="fas fa-sun"></i>
                                <i class="fas fa-moon"></i>
                            </div>
                            <span class="theme-slider"></span>
                        </label>
                    </div>
                    <!-- Navigation link: Returns to the main chat interface -->
                    <a href="{{ url_for('main.index_interface') }}" class="btn btn-primary">
                        <i class="fas fa-arrow-left me-1"></i> <span data-i18n="header.back">Retour au Chat</span>
                    </a>
                    <!-- Logout link: Ends the user session -->
                    <a href="{{ url_for('main.logout') }}" class="btn btn-primary">
                        <i class="fas fa-sign-out-alt"></i> <span data-i18n="header.logout">Déconnexion</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main content: Contains documentation sections for AutoML Pro -->
    <main class="main">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title"><i class="fas fa-book"></i> <span data-i18n="card.title">Documentation AutoML Pro</span></h3>
                </div>
                <div class="card-body">
                    <!-- Introduction section: Overview of AutoML Pro -->
                    <div class="doc-section">
                        <h2 data-i18n="doc.introduction.title">Introduction</h2>
                        <p data-i18n="doc.introduction.description">
                            AutoML Pro est une plateforme d'apprentissage automatique automatisée conçue pour simplifier l'analyse de données et la construction de modèles. Elle prend en charge la classification, la régression et le clustering, permettant aux utilisateurs de télécharger des ensembles de données, de configurer des analyses et d'obtenir des résultats détaillés sans expertise approfondie en apprentissage automatique.
                        </p>
                    </div>

                    <!-- Configuration section: Explains how to set up an analysis -->
                    <div class="doc-section">
                        <h2 data-i18n="doc.configuration.title">Configuration de l'Analyse</h2>
                        <h3 data-i18n="doc.configuration.selection.title">1. Sélection du Type d'Analyse</h3>
                        <p data-i18n="doc.configuration.selection.description">
                            Choisissez le type d'analyse parmi :
                        </p>
                        <ul>
                            <li data-i18n="doc.configuration.selection.classification"><strong>Classification</strong> : Prédire une catégorie (ex. : positif/négatif).</li>
                            <li data-i18n="doc.configuration.selection.regression"><strong>Régression</strong> : Prédire une valeur numérique (ex. : prix).</li>
                            <li data-i18n="doc.configuration.selection.clustering"><strong>Clustering</strong> : Grouper des données similaires sans étiquettes.</li>
                        </ul>

                        <h3 data-i18n="doc.configuration.upload.title">2. Téléchargement des Données</h3>
                        <p data-i18n="doc.configuration.upload.description">
                            Téléchargez un fichier de données dans l'un des formats suivants :
                        </p>
                        <ul>
                            <li data-i18n="doc.configuration.upload.csv">CSV (<code>.csv</code>)</li>
                            <li data-i18n="doc.configuration.upload.excel">Excel (<code>.xls</code>, <code>.xlsx</code>)</li>
                            <li data-i18n="doc.configuration.upload.json">JSON (<code>.json</code>)</li>
                        </ul>
                        <p data-i18n="doc.configuration.upload.note">
                            Assurez-vous que les données sont bien formatées, avec des colonnes nommées et des valeurs cohérentes.
                        </p>

                        <h3 data-i18n="doc.configuration.target.title">3. Sélection de la Colonne Cible</h3>
                        <p data-i18n="doc.configuration.target.description">
                            Pour la classification et la régression, sélectionnez la colonne cible (variable à prédire). Cette étape est ignorée pour le clustering, qui est non supervisé.
                        </p>

                        <h3 data-i18n="doc.configuration.advanced.title">4. Options Avancées</h3>
                        <p data-i18n="doc.configuration.advanced.description">
                            Les options avancées incluent :
                        </p>
                        <ul>
                            <li data-i18n="doc.configuration.advanced.test_size"><strong>Taille de l'ensemble de test</strong> : Définir le pourcentage des données utilisées pour tester le modèle (par défaut : 20%).</li>
                            <li data-i18n="doc.configuration.advanced.preprocessing"><strong>Prétraitement des données</strong> :
                                <ul>
                                    <li data-i18n="doc.configuration.advanced.preprocessing.missing">Gestion des valeurs manquantes</li>
                                    <li data-i18n="doc.configuration.advanced.preprocessing.outliers">Détection des valeurs aberrantes</li>
                                    <li data-i18n="doc.configuration.advanced.preprocessing.normalization">Normalisation des données</li>
                                    <li data-i18n="doc.configuration.advanced.preprocessing.encoding">Encodage des variables catégorielles</li>
                                </ul>
                            </li>
                            <li data-i18n="doc.configuration.advanced.models"><strong>Modèles à évaluer</strong> : Sélectionner les algorithmes à tester (ex. : Régression Logistique, Random Forest, K-Means).</li>
                            <li data-i18n="doc.configuration.advanced.cross_validation"><strong>Validation croisée</strong> : Nombre de plis pour la validation croisée (par défaut : 5).</li>
                            <li data-i18n="doc.configuration.advanced.clusters"><strong>Nombre de clusters</strong> : Pour le clustering, définir le nombre de groupes (par défaut : 3).</li>
                        </ul>
                    </div>

                    <!-- Results section: Describes the output of the analysis -->
                    <div class="doc-section">
                        <h2 data-i18n="doc.results.title">Résultats de l'Analyse</h2>
                        <p data-i18n="doc.results.description">
                            Une fois l'analyse terminée, les résultats sont affichés sous quatre onglets :
                        </p>
                        <h3 data-i18n="doc.results.summary.title">1. Résumé</h3>
                        <p data-i18n="doc.results.summary.description">
                            Fournit un aperçu des informations sur le dataset (nombre de lignes/colonnes, type d'analyse, colonne cible) et les performances du meilleur modèle, avec des options pour télécharger le modèle et le rapport.
                        </p>

                        <h3 data-i18n="doc.results.data.title">2. Données</h3>
                        <p data-i18n="doc.results.data.description">
                            Affiche un aperçu des données, la structure (types de colonnes) et les statistiques descriptives (min, max, moyenne, médiane).
                        </p>

                        <h3 data-i18n="doc.results.models.title">3. Modèles</h3>
                        <p data-i18n="doc.results.models.description">
                            Compare les performances des modèles testés, affiche l'importance des caractéristiques pour le meilleur modèle et fournit les paramètres du modèle. Un graphique de comparaison est inclus.
                        </p>

                        <h3 data-i18n="doc.results.visualizations.title">4. Visualisations</h3>
                        <p data-i18n="doc.results.visualizations.description">
                            Inclut des graphiques tels que la matrice de confusion (classification), les courbes d'erreur (régression), ou les scatter plots (clustering). Les visualisations varient selon le type d'analyse.
                        </p>
                    </div>

                    <!-- Backend section: Details the technical implementation -->
                    <div class="doc-section">
                        <h2 data-i18n="doc.backend.title">Backend et Traitement</h2>
                        <p data-i18n="doc.backend.description">
                            Le backend d'AutoML Pro est construit avec Flask et utilise des bibliothèques telles que scikit-learn, pandas, et matplotlib. Voici un aperçu du traitement des données :
                        </p>
                        <ul>
                            <li data-i18n="doc.backend.loading"><strong>Chargement des données</strong> : Les fichiers sont lus avec pandas selon leur format.</li>
                            <li data-i18n="doc.backend.preprocessing"><strong>Prétraitement</strong> : Les valeurs manquantes sont imputées, les variables catégorielles sont encodées, et les données sont normalisées.</li>
                            <li data-i18n="doc.backend.training"><strong>Entraînement</strong> :
                                <ul>
                                    <li data-i18n="doc.backend.training.classification"><strong>Classification</strong> : Utilise LogisticRegression, RandomForestClassifier, SVC, etc., avec le score F1 comme métrique.</li>
                                    <li data-i18n="doc.backend.training.regression"><strong>Régression</strong> : Utilise LinearRegression, RandomForestRegressor, SVR, etc., avec l'erreur quadratique moyenne comme métrique.</li>
                                    <li data-i18n="doc.backend.training.clustering"><strong>Clustering</strong> : Utilise KMeans, DBSCAN, ou AgglomerativeClustering, avec le score de silhouette comme métrique.</li>
                                </ul>
                            </li>
                            <li data-i18n="doc.backend.output"><strong>Sortie</strong> : Les modèles sont sauvegardés avec joblib, les rapports sont générés en PDF avec FPDF, et les visualisations sont créées avec matplotlib.</li>
                        </ul>
                        <p data-i18n="doc.backend.code_description">
                            Exemple de code pour l'entraînement d'un modèle de classification :
                        </p>
                        <pre>
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import f1_score
from sklearn.model_selection import train_test_split

X_train, X_test, y_train, y_test = train_test_split(X_scaled, y, test_size=0.2)
model = RandomForestClassifier()
model.fit(X_train, y_train)
predictions = model.predict(X_test)
score = f1_score(y_test, predictions, average='weighted')
                        </pre>
                    </div>

                    <!-- Tips section: Best practices for using AutoML Pro -->
                    <div class="doc-section">
                        <h2 data-i18n="doc.tips.title">Conseils pour une Utilisation Optimale</h2>
                        <ul>
                            <li data-i18n="doc.tips.clean_data">Vérifiez la propreté des données avant le téléchargement.</li>
                            <li data-i18n="doc.tips.sufficient_data">Utilisez des ensembles de données avec un nombre suffisant d'observations.</li>
                            <li data-i18n="doc.tips.preprocessing">Activez toutes les options de prétraitement pour des résultats robustes.</li>
                            <li data-i18n="doc.tips.compare_models">Comparez plusieurs modèles pour identifier le plus performant.</li>
                            <li data-i18n="doc.tips.report">Consultez le rapport PDF pour une analyse complète.</li>
                        </ul>
                    </div>

                    <!-- Limitations section: Known constraints of the platform -->
                    <div class="doc-section">
                        <h2 data-i18n="doc.limitations.title">Limitations</h2>
                        <ul>
                            <li data-i18n="doc.limitations.large_files">Les fichiers volumineux peuvent ralentir le traitement.</li>
                            <li data-i18n="doc.limitations.algorithms">Certains algorithmes (ex. : SVM) peuvent être lents avec de grandes datasets.</li>
                            <li data-i18n="doc.limitations.visualizations">Les visualisations sont limitées aux premières caractéristiques pour le clustering.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer: Displays logo, tagline, social links, and copyright -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQghP9MPtQ4YU3UqysqQGnf0_NxGgrnOn7cjCao-MdKRQ72Jwitn1-l_midGtdBIbP8jVs&usqp=CAU" alt="ISET Sfax Logo">
                    <div>
                        <span data-i18n="footer.institute">ISET Sfax</span>
                        <div class="footer-tagline" data-i18n="footer.tagline">Empowering Innovation through AI</div>
                    </div>
                </div>
                <div class="footer-social">
                    <a href="https://twitter.com" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="https://linkedin.com" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="https://github.com" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
                </div>
            </div>
            <div class="footer-copyright" data-i18n="footer.copyright">© 2023 ISET Sfax. Tous droits réservés.</div>
        </div>
    </footer>

    <!-- Script section: Handles internationalization, language switching, theme toggling, and Excel processing -->
    <script src="https://cdn.jsdelivr.net/npm/i18next@21.9.2/dist/umd/i18next.min.js"></script>
    <script>
        // Initialize page functionality after DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize i18next for multilingual support
            i18next.init({
                lng: getCookie('language') || 'fr',
                resources: {
                    en: {
                        translation: {
                            'header.title': 'AutoML Pro Documentation',
                            'header.logo': 'AutoML Pro',
                            'header.back': 'Back to Chat',
                            'header.logout': 'Logout',
                            'card.title': 'AutoML Pro Documentation',
                            'doc.introduction.title': 'Introduction',
                            'doc.introduction.description': 'AutoML Pro is an automated machine learning platform designed to simplify data analysis and model building. It supports classification, regression, and clustering, allowing users to upload datasets, configure analyses, and obtain detailed results without deep machine learning expertise.',
                            'doc.configuration.title': 'Analysis Configuration',
                            'doc.configuration.selection.title': '1. Selecting Analysis Type',
                            'doc.configuration.selection.description': 'Choose the type of analysis from:',
                            'doc.configuration.selection.classification': '<strong>Classification</strong>: Predict a category (e.g., positive/negative).',
                            'doc.configuration.selection.regression': '<strong>Regression</strong>: Predict a numerical value (e.g., price).',
                            'doc.configuration.selection.clustering': '<strong>Clustering</strong>: Group similar data without labels.',
                            'doc.configuration.upload.title': '2. Uploading Data',
                            'doc.configuration.upload.description': 'Upload a data file in one of the following formats:',
                            'doc.configuration.upload.csv': 'CSV (<code>.csv</code>)',
                            'doc.configuration.upload.excel': 'Excel (<code>.xls</code>, <code>.xlsx</code>)',
                            'doc.configuration.upload.json': 'JSON (<code>.json</code>)',
                            'doc.configuration.upload.note': 'Ensure the data is well-formatted with named columns and consistent values.',
                            'doc.configuration.target.title': '3. Selecting Target Column',
                            'doc.configuration.target.description': 'For classification and regression, select the target column (variable to predict). This step is skipped for clustering, which is unsupervised.',
                            'doc.configuration.advanced.title': '4. Advanced Options',
                            'doc.configuration.advanced.description': 'Advanced options include:',
                            'doc.configuration.advanced.test_size': '<strong>Test set size</strong>: Set the percentage of data used for testing the model (default: 20%).',
                            'doc.configuration.advanced.preprocessing': '<strong>Data preprocessing</strong>:',
                            'doc.configuration.advanced.preprocessing.missing': 'Handling missing values',
                            'doc.configuration.advanced.preprocessing.outliers': 'Outlier detection',
                            'doc.configuration.advanced.preprocessing.normalization': 'Data normalization',
                            'doc.configuration.advanced.preprocessing.encoding': 'Encoding categorical variables',
                            'doc.configuration.advanced.models': '<strong>Models to evaluate</strong>: Select algorithms to test (e.g., Logistic Regression, Random Forest, K-Means).',
                            'doc.configuration.advanced.cross_validation': '<strong>Cross-validation</strong>: Number of folds for cross-validation (default: 5).',
                            'doc.configuration.advanced.clusters': '<strong>Number of clusters</strong>: For clustering, set the number of groups (default: 3).',
                            'doc.results.title': 'Analysis Results',
                            'doc.results.description': 'Once the analysis is complete, results are displayed in four tabs:',
                            'doc.results.summary.title': '1. Summary',
                            'doc.results.summary.description': 'Provides an overview of dataset information (number of rows/columns, analysis type, target column) and the best model’s performance, with options to download the model and report.',
                            'doc.results.data.title': '2. Data',
                            'doc.results.data.description': 'Displays a data preview, structure (column types), and descriptive statistics (min, max, mean, median).',
                            'doc.results.models.title': '3. Models',
                            'doc.results.models.description': 'Compares the performance of tested models, shows feature importance for the best model, and provides model parameters. A comparison chart is included.',
                            'doc.results.visualizations.title': '4. Visualizations',
                            'doc.results.visualizations.description': 'Includes charts such as confusion matrix (classification), error curves (regression), or scatter plots (clustering). Visualizations vary by analysis type.',
                            'doc.backend.title': 'Backend and Processing',
                            'doc.backend.description': 'The AutoML Pro backend is built with Flask and uses libraries like scikit-learn, pandas, and matplotlib. Here’s an overview of data processing:',
                            'doc.backend.loading': '<strong>Data loading</strong>: Files are read with pandas based on their format.',
                            'doc.backend.preprocessing': '<strong>Preprocessing</strong>: Missing values are imputed, categorical variables are encoded, and data is normalized.',
                            'doc.backend.training': '<strong>Training</strong>:',
                            'doc.backend.training.classification': '<strong>Classification</strong>: Uses LogisticRegression, RandomForestClassifier, SVC, etc., with F1 score as the metric.',
                            'doc.backend.training.regression': '<strong>Regression</strong>: Uses LinearRegression, RandomForestRegressor, SVR, etc., with mean squared error as the metric.',
                            'doc.backend.training.clustering': '<strong>Clustering</strong>: Uses KMeans, DBSCAN, or AgglomerativeClustering, with silhouette score as the metric.',
                            'doc.backend.output': '<strong>Output</strong>: Models are saved with joblib, reports are generated in PDF with FPDF, and visualizations are created with matplotlib.',
                            'doc.backend.code_description': 'Example code for training a classification model:',
                            'doc.tips.title': 'Tips for Optimal Use',
                            'doc.tips.clean_data': 'Verify data cleanliness before uploading.',
                            'doc.tips.sufficient_data': 'Use datasets with a sufficient number of observations.',
                            'doc.tips.preprocessing': 'Enable all preprocessing options for robust results.',
                            'doc.tips.compare_models': 'Compare multiple models to identify the best performer.',
                            'doc.tips.report': 'Review the PDF report for a comprehensive analysis.',
                            'doc.limitations.title': 'Limitations',
                            'doc.limitations.large_files': 'Large files may slow down processing.',
                            'doc.limitations.algorithms': 'Some algorithms (e.g., SVM) may be slow with large datasets.',
                            'doc.limitations.visualizations': 'Visualizations are limited to the first few features for clustering.',
                            'footer.institute': 'ISET Sfax',
                            'footer.tagline': 'Empowering Innovation through AI',
                            'footer.copyright': '© 2023 ISET Sfax. All rights reserved.',
                            'language.changeSuccess': 'Language changed successfully!',
                            'language.changeError': 'Error changing language. Please try again.',
                            'error.fallback': 'Something went wrong. Please refresh the page.'
                        }
                    },
                    fr: {
                        translation: {
                            'header.title': 'Documentation AutoML Pro',
                            'header.logo': 'AutoML Pro',
                            'header.back': 'Retour au Chat',
                            'header.logout': 'Déconnexion',
                            'card.title': 'Documentation AutoML Pro',
                            'doc.introduction.title': 'Introduction',
                            'doc.introduction.description': 'AutoML Pro est une plateforme d\'apprentissage automatique automatisée conçue pour simplifier l\'analyse de données et la construction de modèles. Elle prend en charge la classification, la régression et le clustering, permettant aux utilisateurs de télécharger des ensembles de données, de configurer des analyses et d\'obtenir des résultats détaillés sans expertise approfondie en apprentissage automatique.',
                            'doc.configuration.title': 'Configuration de l\'Analyse',
                            'doc.configuration.selection.title': '1. Sélection du Type d\'Analyse',
                            'doc.configuration.selection.description': 'Choisissez le type d\'analyse parmi :',
                            'doc.configuration.selection.classification': '<strong>Classification</strong> : Prédire une catégorie (ex. : positif/négatif).',
                            'doc.configuration.selection.regression': '<strong>Régression</strong> : Prédire une valeur numérique (ex. : prix).',
                            'doc.configuration.selection.clustering': '<strong>Clustering</strong> : Grouper des données similaires sans étiquettes.',
                            'doc.configuration.upload.title': '2. Téléchargement des Données',
                            'doc.configuration.upload.description': 'Téléchargez un fichier de données dans l\'un des formats suivants :',
                            'doc.configuration.upload.csv': 'CSV (<code>.csv</code>)',
                            'doc.configuration.upload.excel': 'Excel (<code>.xls</code>, <code>.xlsx</code>)',
                            'doc.configuration.upload.json': 'JSON (<code>.json</code>)',
                            'doc.configuration.upload.note': 'Assurez-vous que les données sont bien formatées, avec des colonnes nommées et des valeurs cohérentes.',
                            'doc.configuration.target.title': '3. Sélection de la Colonne Cible',
                            'doc.configuration.target.description': 'Pour la classification et la régression, sélectionnez la colonne cible (variable à prédire). Cette étape est ignorée pour le clustering, qui est non supervisé.',
                            'doc.configuration.advanced.title': '4. Options Avancées',
                            'doc.configuration.advanced.description': 'Les options avancées incluent :',
                            'doc.configuration.advanced.test_size': '<strong>Taille de l\'ensemble de test</strong> : Définir le pourcentage des données utilisées pour tester le modèle (par défaut : 20%).',
                            'doc.configuration.advanced.preprocessing': '<strong>Prétraitement des données</strong> :',
                            'doc.configuration.advanced.preprocessing.missing': 'Gestion des valeurs manquantes',
                            'doc.configuration.advanced.preprocessing.outliers': 'Détection des valeurs aberrantes',
                            'doc.configuration.advanced.preprocessing.normalization': 'Normalisation des données',
                            'doc.configuration.advanced.preprocessing.encoding': 'Encodage des variables catégorielles',
                            'doc.configuration.advanced.models': '<strong>Modèles à évaluer</strong> : Sélectionner les algorithmes à tester (ex. : Régression Logistique, Random Forest, K-Means).',
                            'doc.configuration.advanced.cross_validation': '<strong>Validation croisée</strong> : Nombre de plis pour la validation croisée (par défaut : 5).',
                            'doc.configuration.advanced.clusters': '<strong>Nombre de clusters</strong> : Pour le clustering, définir le nombre de groupes (par défaut : 3).',
                            'doc.results.title': 'Résultats de l\'Analyse',
                            'doc.results.description': 'Une fois l\'analyse terminée, les résultats sont affichés sous quatre onglets :',
                            'doc.results.summary.title': '1. Résumé',
                            'doc.results.summary.description': 'Fournit un aperçu des informations sur le dataset (nombre de lignes/colonnes, type d\'analyse, colonne cible) et les performances du meilleur modèle, avec des options pour télécharger le modèle et le rapport.',
                            'doc.results.data.title': '2. Données',
                            'doc.results.data.description': 'Affiche un aperçu des données, la structure (types de colonnes) et les statistiques descriptives (min, max, moyenne, médiane).',
                            'doc.results.models.title': '3. Modèles',
                            'doc.results.models.description': 'Compare les performances des modèles testés, affiche l\'importance des caractéristiques pour le meilleur modèle et fournit les paramètres du modèle. Un graphique de comparaison est inclus.',
                            'doc.results.visualizations.title': '4. Visualisations',
                            'doc.results.visualizations.description': 'Inclut des graphiques tels que la matrice de confusion (classification), les courbes d\'erreur (régression), ou les scatter plots (clustering). Les visualisations varient selon le type d\'analyse.',
                            'doc.backend.title': 'Backend et Traitement',
                            'doc.backend.description': 'Le backend d\'AutoML Pro est construit avec Flask et utilise des bibliothèques telles que scikit-learn, pandas, et matplotlib. Voici un aperçu du traitement des données :',
                            'doc.backend.loading': '<strong>Chargement des données</strong> : Les fichiers sont lus avec pandas selon leur format.',
                            'doc.backend.preprocessing': '<strong>Prétraitement</strong> : Les valeurs manquantes sont imputées, les variables catégorielles sont encodées, et les données sont normalisées.',
                            'doc.backend.training': '<strong>Entraînement</strong> :',
                            'doc.backend.training.classification': '<strong>Classification</strong> : Utilise LogisticRegression, RandomForestClassifier, SVC, etc., avec le score F1 comme métrique.',
                            'doc.backend.training.regression': '<strong>Régression</strong> : Utilise LinearRegression, RandomForestRegressor, SVR, etc., avec l\'erreur quadratique moyenne comme métrique.',
                            'doc.backend.training.clustering': '<strong>Clustering</strong> : Utilise KMeans, DBSCAN, ou AgglomerativeClustering, avec le score de silhouette comme métrique.',
                            'doc.backend.output': '<strong>Sortie</strong> : Les modèles sont sauvegardés avec joblib, les rapports sont générés en PDF avec FPDF, et les visualisations sont créées avec matplotlib.',
                            'doc.backend.code_description': 'Exemple de code pour l\'entraînement d\'un modèle de classification :',
                            'doc.tips.title': 'Conseils pour une Utilisation Optimale',
                            'doc.tips.clean_data': 'Vérifiez la propreté des données avant le téléchargement.',
                            'doc.tips.sufficient_data': 'Utilisez des ensembles de données avec un nombre suffisant d\'observations.',
                            'doc.tips.preprocessing': 'Activez toutes les options de prétraitement pour des résultats robustes.',
                            'doc.tips.compare_models': 'Comparez plusieurs modèles pour identifier le plus performant.',
                            'doc.tips.report': 'Consultez le rapport PDF pour une analyse complète.',
                            'doc.limitations.title': 'Limitations',
                            'doc.limitations.large_files': 'Les fichiers volumineux peuvent ralentir le traitement.',
                            'doc.limitations.algorithms': 'Certains algorithmes (ex. : SVM) peuvent être lents avec de grandes datasets.',
                            'doc.limitations.visualizations': 'Les visualisations sont limitées aux premières caractéristiques pour le clustering.',
                            'footer.institute': 'ISET Sfax',
                            'footer.tagline': 'Favoriser l\'innovation grâce à l\'IA',
                            'footer.copyright': '© 2023 ISET Sfax. Tous droits réservés.',
                            'language.changeSuccess': 'Langue changée avec succès !',
                            'language.changeError': 'Erreur lors du changement de langue. Veuillez réessayer.',
                            'error.fallback': 'Une erreur s’est produite. Veuillez actualiser la page.'
                        }
                    },
                    ar: {
                        translation: {
                            'header.title': 'توثيق AutoML Pro',
                            'header.logo': 'AutoML Pro',
                            'header.back': 'العودة إلى الدردشة',
                            'header.logout': 'تسجيل الخروج',
                            'card.title': 'توثيق AutoML Pro',
                            'doc.introduction.title': 'مقدمة',
                            'doc.introduction.description': 'AutoML Pro هي منصة تعلم آلي تلقائية مصممة لتبسيط تحليل البيانات وبناء النماذج. تدعم التصنيف، الانحدار، والتجميع، مما يتيح للمستخدمين رفع مجموعات البيانات، تهيئة التحليلات، والحصول على نتائج مفصلة دون خبرة عميقة في التعلم الآلي.',
                            'doc.configuration.title': 'تهيئة التحليل',
                            'doc.configuration.selection.title': '1. اختيار نوع التحليل',
                            'doc.configuration.selection.description': 'اختر نوع التحليل من بين:',
                            'doc.configuration.selection.classification': '<strong>التصنيف</strong>: التنبؤ بفئة (مثال: إيجابي/سلبي).',
                            'doc.configuration.selection.regression': '<strong>الانحدار</strong>: التنبؤ بقيمة عددية (مثال: السعر).',
                            'doc.configuration.selection.clustering': '<strong>التجميع</strong>: تجميع البيانات المتشابهة بدون تسميات.',
                            'doc.configuration.upload.title': '2. رفع البيانات',
                            'doc.configuration.upload.description': 'ارفع ملف بيانات بأحد الصيغ التالية:',
                            'doc.configuration.upload.csv': 'CSV (<code>.csv</code>)',
                            'doc.configuration.upload.excel': 'Excel (<code>.xls</code>، <code>.xlsx</code>)',
                            'doc.configuration.upload.json': 'JSON (<code>.json</code>)',
                            'doc.configuration.upload.note': 'تأكد من أن البيانات منسقة جيدًا، مع أعمدة مسماة وقيم متسقة.',
                            'doc.configuration.target.title': '3. اختيار العمود المستهدف',
                            'doc.configuration.target.description': 'للتصنيف والانحدار، اختر العمود المستهدف (المتغير المراد التنبؤ به). تُتخطى هذه الخطوة للتجميع، وهو غير خاضع للإشراف.',
                            'doc.configuration.advanced.title': '4. الخيارات المتقدمة',
                            'doc.configuration.advanced.description': 'تشمل الخيارات المتقدمة:',
                            'doc.configuration.advanced.test_size': '<strong>حجم مجموعة الاختبار</strong>: تحديد نسبة البيانات المستخدمة لاختبار النموذج (الافتراضي: 20%).',
                            'doc.configuration.advanced.preprocessing': '<strong>معالجة البيانات المسبقة</strong>:',
                            'doc.configuration.advanced.preprocessing.missing': 'معالجة القيم المفقودة',
                            'doc.configuration.advanced.preprocessing.outliers': 'كشف القيم الشاذة',
                            'doc.configuration.advanced.preprocessing.normalization': 'تطبيع البيانات',
                            'doc.configuration.advanced.preprocessing.encoding': 'ترميز المتغيرات الفئوية',
                            'doc.configuration.advanced.models': '<strong>النماذج المراد تقييمها</strong>: اختيار الخوارزميات للاختبار (مثال: الانحدار اللوجستي، غابة عشوائية، K-Means).',
                            'doc.configuration.advanced.cross_validation': '<strong>التصديق المتقاطع</strong>: عدد الطيات للتصديق المتقاطع (الافتراضي: 5).',
                            'doc.configuration.advanced.clusters': '<strong>عدد التجمعات</strong>: للتجميع، تحديد عدد المجموعات (الافتراضي: 3).',
                            'doc.results.title': 'نتائج التحليل',
                            'doc.results.description': 'بمجرد اكتمال التحليل، تُعرض النتائج في أربع علامات تبويب:',
                            'doc.results.summary.title': '1. الملخص',
                            'doc.results.summary.description': 'يوفر نظرة عامة على معلومات مجموعة البيانات (عدد الصفوف/الأعمدة، نوع التحليل، العمود المستهدف) وأداء أفضل نموذج، مع خيارات لتنزيل النموذج والتقرير.',
                            'doc.results.data.title': '2. البيانات',
                            'doc.results.data.description': 'يعرض معاينة للبيانات، الهيكلية (أنواع الأعمدة)، والإحصاءات الوصفية (الحد الأدنى، الحد الأقصى، المتوسط، الوسيط).',
                            'doc.results.models.title': '3. النماذج',
                            'doc.results.models.description': 'يقارن أداء النماذج التي تم اختبارها، يعرض أهمية الميزات لأفضل نموذج، ويوفر معلمات النموذج. يتضمن مخطط مقارنة.',
                            'doc.results.visualizations.title': '4. التصورات',
                            'doc.results.visualizations.description': 'يتضمن مخططات مثل مصفوفة الارتباك (التصنيف)، منحنيات الخطأ (الانحدار)، أو الرسوم البيانية المتناثرة (التجميع). تختلف التصورات حسب نوع التحليل.',
                            'doc.backend.title': 'الخلفية والمعالجة',
                            'doc.backend.description': 'تم بناء خلفية AutoML Pro باستخدام Flask وتستخدم مكتبات مثل scikit-learn، pandas، وmatplotlib. إليك نظرة عامة على معالجة البيانات:',
                            'doc.backend.loading': '<strong>تحميل البيانات</strong>: يتم قراءة الملفات باستخدام pandas حسب صيغتها.',
                            'doc.backend.preprocessing': '<strong>المعالجة المسبقة</strong>: يتم استبدال القيم المفقودة، ترميز المتغيرات الفئوية، وتطبيع البيانات.',
                            'doc.backend.training': '<strong>التدريب</strong>:',
                            'doc.backend.training.classification': '<strong>التصنيف</strong>: يستخدم LogisticRegression، RandomForestClassifier، SVC، إلخ، مع مقياس F1.',
                            'doc.backend.training.regression': '<strong>الانحدار</strong>: يستخدم LinearRegression، RandomForestRegressor، SVR، إلخ، مع الخطأ التربيعي المتوسط كمقياس.',
                            'doc.backend.training.clustering': '<strong>التجميع</strong>: يستخدم KMeans، DBSCAN، أو AgglomerativeClustering، مع مقياس درجة الصورة الظلية.',
                            'doc.backend.output': '<strong>الإخراج</strong>: يتم حفظ النماذج باستخدام joblib، يتم إنشاء التقارير بصيغة PDF باستخدام FPDF، ويتم إنشاء التصورات باستخدام matplotlib.',
                            'doc.backend.code_description': 'مثال على كود تدريب نموذج تصنيف:',
                            'doc.tips.title': 'نصائح للاستخدام الأمثل',
                            'doc.tips.clean_data': 'تحقق من نظافة البيانات قبل الرفع.',
                            'doc.tips.sufficient_data': 'استخدم مجموعات بيانات تحتوي على عدد كافٍ من الملاحظات.',
                            'doc.tips.preprocessing': 'قم بتفعيل جميع خيارات المعالجة المسبقة للحصول على نتائج قوية.',
                            'doc.tips.compare_models': 'قارن بين عدة نماذج لتحديد الأفضل أداءً.',
                            'doc.tips.report': 'راجع تقرير PDF لتحليل شامل.',
                            'doc.limitations.title': 'القيود',
                            'doc.limitations.large_files': 'الملفات الكبيرة قد تبطئ المعالجة.',
                            'doc.limitations.algorithms': 'بعض الخوارزميات (مثل SVM) قد تكون بطيئة مع مجموعات البيانات الكبيرة.',
                            'doc.limitations.visualizations': 'التصورات مقتصرة على الميزات الأولى للتجميع.',
                            'footer.institute': 'ISET صفاقس',
                            'footer.tagline': 'تمكين الابتكار من خلال الذكاء الاصطناعي',
                            'footer.copyright': '© 2023 ISET صفاقس. جميع الحقوق محفوظة.',
                            'language.changeSuccess': 'تم تغيير اللغة بنجاح!',
                            'language.changeError': 'خطأ أثناء تغيير اللغة. يرجى المحاولة مرة أخرى.',
                            'error.fallback': 'حدث خطأ. يرجى تحديث الصفحة.'
                        }
                    }
                }
            }, () => {
                // Update page content with selected language
                updateLanguage(i18next.language);
            });

            // Function to display toast notifications for success or error messages
            function showToast(message, isError = false) {
                const toast = document.createElement('div');
                toast.className = `toast ${isError ? 'error' : ''}`;
                toast.textContent = message;
                document.body.appendChild(toast);
                setTimeout(() => toast.classList.add('show'), 100);
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }

            // Function to set a cookie with the specified name, value, and expiration
            function setCookie(name, value, days) {
                const date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                document.cookie = `${name}=${value};expires=${date.toUTCString()};path=/`;
            }

            // Function to retrieve a cookie by name
            function getCookie(name) {
                const value = `; ${document.cookie}`;
                const parts = value.split(`; ${name}=`);
                return parts.length === 2 ? parts.pop().split(';').shift() : null;
            }

            // Function to update the page language, including content and UI direction
            async function updateLanguage(lang) {
                try {
                    document.body.classList.add('fade');
                    await new Promise(resolve => setTimeout(resolve, 300));
                    i18next.changeLanguage(lang, () => {
                        document.documentElement.setAttribute('lang', lang);
                        document.querySelectorAll('[data-i18n]').forEach(element => {
                            element.innerHTML = i18next.t(element.getAttribute('data-i18n'));
                        });
                        document.querySelectorAll('.language-btn').forEach(btn => {
                            btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
                        });
                        setCookie('language', lang, 30);
                        fetch('/save_language', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ language: lang })
                        }).catch(error => console.error('Error saving language:', error));
                        document.body.classList.remove('fade');
                        showToast(i18next.t('language.changeSuccess'));
                    });
                } catch (error) {
                    console.error('Error updating language:', error);
                    showToast(i18next.t('language.changeError'), true);
                    renderErrorBoundary();
                }
            }

            // Function to render an error boundary in case of critical failures
            function renderErrorBoundary() {
                const mainContent = document.querySelector('.main');
                mainContent.innerHTML = `
                    <div class="error-boundary">
                        <h2>${i18next.t('error.fallback')}</h2>
                        <button class="btn btn-primary" onclick="location.reload()">Refresh</button>
                    </div>
                `;
            }

            // Load the saved language or default to French
            const savedLanguage = getCookie('language') || 'fr';
            updateLanguage(savedLanguage);

            // Add event listeners to language buttons for switching languages
            const languageButtons = document.querySelectorAll('.language-btn');
            languageButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const lang = button.getAttribute('data-lang');
                    if (lang !== i18next.language) {
                        updateLanguage(lang);
                    }
                });
            });

            // Initialize theme switcher to toggle between light and dark modes
            function initThemeSwitcher() {
                const themeToggle = document.getElementById('themeToggle');
                const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

                // Apply saved theme or system preference
                const currentTheme = localStorage.getItem('theme') || 
                                    (prefersDarkScheme.matches ? 'dark' : 'light');

                if (currentTheme === 'dark') {
                    document.body.classList.add('dark');
                    if (themeToggle) themeToggle.checked = true;
                }

                // Add event listener for theme toggle
                if (themeToggle) {
                    themeToggle.addEventListener('change', function() {
                        if (this.checked) {
                            document.body.classList.add('dark');
                            localStorage.setItem('theme', 'dark');
                        } else {
                            document.body.classList.remove('dark');
                            localStorage.setItem('theme', 'light');
                        }
                    });
                }
            }

            // Initialize theme switcher
            initThemeSwitcher();
        });
    </script>
</body>
</html>